public String nameFromEmail(String email) {
    if (String.isBlank(email) || !email.contains('@')) {
        return '';
    }

    String localPart = email.substringBefore('@');

    if (!localPart.contains('.')) {
        return capitalize(localPart);
    }

    String first = localPart.substringBefore('.');
    String last  = localPart.substringAfter('.');

    return capitalize(first) + ' ' + capitalize(last);
}